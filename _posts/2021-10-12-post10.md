---
layout: post
title: (Database) DB? SQL? 에 대한 공부 시작
category: database
---

### 시작하며

- - -

개발자로 일한지 3년차. 새롭게 이직한 회사에서 DB를 써야할 때가 왔다. <br>
지금 까지 DB와는 관련도 없고 사용도 하지 않았던 (네트워크 ADC 장비) 개발자로 일을 했었는데 <br>
이제 DB 에 대해서 공부하려고 하니 어떻게 시작해야할지도 감이 오지 않는다. <br>
그래서 내가 어떤 순서로 공부를 할지에 대해 정리도 할겸 해당 게시물에 대해 포스팅을 하고자 한다.


참고로 아래 링크에 대한 포스팅을 한번 읽어보는 것도 추천한다. (개인적으로 나에게 공부 방향을 잡아주는 듯하여 도움이 되었던 것 같다.)

- https://www.minwookim.kr/how-to-learn-sql-1/

&nbsp;
&nbsp;


### 용어에 대한 이해

- - -

처음 시작할 때, DBMS? SQL? MySQL? Maria SQL?? 와 같은 수많은 용어 때문에 혼란이 있었다. <br>
이런 상황에서 SQL 문법을 본다거나 DBMS 의 종류와 차이를 본다 라는건 괜히 더 혼란만 줄 것 같아서 관련 용어에 대한 기본적인 정리 이해를 하고 시작 했다.

#### 1. DB (DataBase) 란?

#### 2. RDB (Relational DataBase) 란?

#### 3. DBMS (DataBase Management System) 란?

#### 4. RDBMS (Relational DataBase Management System) 란?

#### 5. DBA (DataBase Administrator) 란?

#### 6. NOSQL (Not Only SQL) 이란?

&nbsp;
&nbsp;


### SQL (Structured Query Language)

- - -

위에서 기본적인 용어를 공부하면서 SQL 이라는 단어를 많이 접하게 될텐데, 우선 SQL 이란 (Structured Query Language) 의 줄임말 으로써, <br>
관계형 데이터 베이스 시스템 (RDBMS) 에서 자료를 관리하기 위해 설계된 언어 이다. <br>

쉽게 말해 외국인과 우리가 소통하기 위해 영어라는 언어를 사용하는 것 처럼, 우리가 (사용자) RDBMS 와 소통을 하기 위한 언어라고 보면 된다. <br>
이러한 SQL 역시 영어와 같은 언어와 마찬가지로 특정 문법을 통해 RDBMS 로 전달해야 서로간의 소통을 할 수 있다. <br>

#### 1. SQL 문법의 종류

SQL 종류는 아래와 같이 구분할 수 있지만, 사실 외울 필요는 없다. "아 ~ 이렇게 구분되는구나" 라고 이해만 하고 넘어가면 될 것 같다.

- DDL (Data Definition Language, 데이터 정의 언어)
    - 각 릴레이션을 정의하기 위해 사용되는 언어 (eg. CREATE, ALTER, DROP ...)

- DML (Data Manipulation Language, 데이터 조작 언어)
    - 각 데이터를 CRUD 하기위해 (관리) 사용되는 언어 (eg. SELECT, INSERT, UPDATE ...)
        - 가장 많이 사용하게될 것이다.

- DCL (Data Control Language, 데이터 제어 언어)
    - 사용자 관리 및 사용자 별로 릴레이션, 데이터를 관리 / 접근 권한을 부여하는 명령어 (eg. GRANT, REVOKE ...)

&nbsp;

#### 2. 기본 CRUD (Create, Read, Update, Delete)


위에서 DDL / DML / DCL 에 대해 설명했지만 여기서는 DML 즉, 데이터 관리를 위한 언어에 대해서만 중점적으로 아주 간략히 설명할 것이다. <br>
(자세히 다루기엔 내가 아직 지식도 부족하고, 표현의 한계가 있기 때문.. 나중에라도 각각의 포스팅을 통해 다뤄봐야겠다.)

기본 CRUD 에 대해서는 아래의 표로 간략하게 정리할 수 있다.

| 용어   | 조작 | SQL    |
|--------|------|--------|
| Create | 생성 | INSERT |
| Read   | 읽기 | SELECT |
| Update | 갱신 | UPDATE |
| Delete | 삭제 | DELETE |

- INSERT 문
    - 테이블에 새로운 값 (ROW) 를 추가해준다.
    - 기본 구조는 아래와 같다. ([자세한 문법 참고](https://dev.mysql.com/doc/refman/8.0/en/insert.html))

        <pre><code class="language-sql">INSERT INTO FROM &lt;table_name&gt; (&lt;column1_name&gt;, &lt;column2_name&gt;, ...) <br>       VALUES (&lt;column1_data&gt;, &lt;column2_data&gt;)</code></pre>

        - 어렵게 생각하지 말자. 말 그대로 &lt;table_name&gt; 에  해당하는 각각의 column 에 데이터를 추가한다는 의미 이다.

- UPDATE 문
    - 테이블의 특정 칼럼 값을 수정(갱신) 해준다.
    - 기본 구조는 아래와 같다. ([자세한 문법 참고](https://dev.mysql.com/doc/refman/8.0/en/update.html))

        <pre><code class="language-sql">UPDATE  &lt;table_name&gt; SET &lt;column_name&gt;=&lt;column_data&gt;, ... WHERE &lt;condition&gt; </code></pre>
        - 해당 구문 사용시 where 절을 정의 하지 않으면 해당 칼럼의 값이 모두 갱신된다는 점을 유의해야한다.

- DELETE 문
    - 테이블의 특정 값 (ROW) 를 삭제 해준다.
    - 기본 구조는 아래와 같다. ([자세한 문법 참고](https://dev.mysql.com/doc/refman/8.0/en/delete.html))

        <pre><code class="language-sql">DELETE FROM &lt;table_name&gt; WHERE &lt;condition&gt;</code></pre>

        - 해당 구문 사용시 where 절을 정의 하지 않으면 해당 테이블의 모든 값이 삭제될 수 있다는 점을 유의해야한다.

- SELECT 문
    - 테이블에서 원하는 데이터를 추출해주며, DML 언어중 가장 많이사용 되는 구문이라 생각된다.
    - 기본 구조는 아래와 같다. ([자세한 문법 참고](https://dev.mysql.com/doc/refman/8.0/en/select.html))

        <pre><code class="language-sql">SELECT * FROM &lt;table_name&gt;   -- 테이블의 모든 칼럼을 가져옴
SELECT &lt;column_name&gt;,&lt;column_name&gt;,... FROM &lt;table_name&gt;   -- 테이블의 일부 칼럼을 가져옴
SELECT &lt;column_name&gt;,&lt;column_name&gt;,... AS &lt;alias&gt; FROM &lt;table_name&gt;   -- 테이블의 일부 칼럼을 가져오면서, 테이블에 대한 별칭을 지정한다.</code></pre>


        - 위 기본 구조에서 FROM 절 뒤로 'WHERE', 'JOIN', 등등의 여러 추가적인 절이 존재하는데, 개인적으로 중요하다라고 생각된 몇 가지만 아래에 정리 한다.
            - WHERE 절
                - FROM 절 바로 뒤에 위치 하며, 조건에 따라 테이블에서 사용자가 원하는 값만 출력하게 해주는 구문이다.

                    <pre><code class="language-sql">SELECT ... FROM ... WHERE &lt;condition&gt;</code></pre>

            - GROUP BY 절
                - FROM 절 바로 뒤에 위치 하며, 테이블의 특정 칼럼을 기준으로 그룹핑 하는 구문이다.

                    <pre><code class="language-sql">SELECT ... FROM ... GROUP BY &lt;column_name&gt;</code></pre>

            - ORDER BY 절
                - FROM 절 바로 뒤에 위치 하며, 내림차순/오름차순으로 정렬되어 출력되도록 도와주는 구문이다.
                    <pre><code class="language-sql">SELECT ... FROM ... ORDER BY &lt;column_name&gt; (ASC | DESC)</code></pre>
                    - ASC: 오름차순, DESC: 내림차순

            - JOIN 절
                - 관계형 데이터베이스에서, 테이블간의 관계성에 따라 다수의 테이블을 결합 및 하나의 테이블인것 처럼 출력 해주며, 크게 2가지가 있다.
                    - OUTTER JOIN: 매칭되는 행이 없는 경우에도 값을 출력하며 해당 칼럼은 'NULL' 로 표기 하며, 두가지 방식이 있다.

                        - LEFT JOIN: 결과가 'LEFT JOIN' 의 왼쪽 테이블을 기준으로 출력된다.
                            <pre><code class="language-sql">SELECT ... FROM ... LEFT JOIN &lt;table_name&gt; ON &lt;condition&gt;</code></pre>

                        - RIGHT JOIN: 결과가 'RIGHT JOIN' 의 오른쪽 테이블을 기준으로 출력된다.
                            <pre><code class="language-sql">SELECT ... FROM ... RIGHT JOIN &lt;table_name&gt; ON &lt;condition&gt;</code></pre>

                    - INNER JOIN: 매칭되는 행이 없는 경우, 해당 값은 출력 하지 않는다.
                        <pre><code class="language-sql">SELECT ... FROM ... INEER JOIN &lt;table_name&gt; ON &lt;condition&gt;</code></pre>

&nbsp;

#### 3. Relation Key

키 (Key) 는 데이터베이스에서 조건에 만족하는 값을 찾거나, 순서대로 정렬할 때 다른 값과 구별할 수 있는 기준이되는 속성이다.

1. Primary Key (기본 키)
    - 기본키 라고도 불린다. 유일성을 가지며 테이블의 식별자 역할을 하는 제약조건으로, 오직 하나만 설정할 수 있다.
        - 값의 중복을 허용하지 않는다.
        - null 값을 가질 수 없다. (not null, 무결성)

2. Unique Key (유일 키)
    - 테이블의 칼럼에 입력되는 데이터가 각각 유일하다는 것을 보장하기 위한 제약조건으로, 한 테이블에 여러개 설정이 가능하다.
        - 값의 중복을 허용하지 않는다.
        - null 값을 가질 수도 있다.
        - Primary Key는 Unique Key 에 포함된다.

3. Foreign Key (외래 키)
    - 다른 테이블의 Primary Key 를 참조하는 속성 또는 속성들의 집합을 의미 한다. (즉, 테이블간 관계를 표현할 때 사용된다.)

&nbsp;

- 참고: Primary Key 와 Unique Key의 상관관계 ([참고](https://blog.naver.com/PostView.naver?blogId=eevee3000&logNo=220795091438))

    - Primary Key 는 논리적인 개념으로 해당 칼럼이 그 테이블의 식별자 (identifier) 임을 나타내는 것으로서 <br>
    자신과 다른 레코드가 서로 다른 인스턴스임을 확인할 수 있게 해주는 역할을 수행 한다.

    - 반면 Unique Key 는 물리적인 개념으로 "이 칼럼은 다른 레코드와 구분짓는 식별자 역할을 하는 중요한 칼럼으로 중복이 허용되지 않으며 (unique) <br>
    null 값도 허용하지 않는다 (not null)" 라는 것을  DB에 알려주는 역할을 수행 한다.

&nbsp;

#### 4. INDEX (색인) 이란?

우리가 전문서적을 볼 때, 책 뒷면의 부록에 색인 또는 INDEX 라는 페이지를 많이 접하게될 것이다.  <br>
이런 색인 페이지에서는 A B C 순으로 단어가 나열되어 있고, 해당 단어가 나오는 페이지에 대한 정보가 적혀있다. <br>
DataBase 에서의 색인도 위와 같이, 테이블가 가진 수 많은 값을 빠르고 쉽게 접근하기 위해서 사용된다.

&nbsp;

#### 5. 서브쿼리와 활용

&nbsp;

#### 6. 프로시져와 활용

&nbsp;

#### 7. 트랜젝션 이란?

&nbsp;
&nbsp;

### 엔진에 대한 이해

- - -

&nbsp;
&nbsp;


### 최적화하는 방법에 대해

- - -



